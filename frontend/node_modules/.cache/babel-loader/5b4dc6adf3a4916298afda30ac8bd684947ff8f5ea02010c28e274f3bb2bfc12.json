{"ast":null,"code":"var _jsxFileName = \"D:\\\\workspace\\\\rag-elasticsearch\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Steps, message, Spin, Button, Card, Tooltip } from 'antd';\nimport { ReloadOutlined, InfoCircleOutlined } from '@ant-design/icons';\nimport SuccessPage from './components/SuccessPage';\nimport { consumerCreditAPI } from './services/api';\nimport './App.css';\nimport ChatWindow from './components/ChatWindow';\nimport { assistantAPI } from './services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Step\n} = Steps;\nfunction App() {\n  _s();\n  const [currentStep, setCurrentStep] = useState(0);\n  const [chatId, setChatId] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [stepData, setStepData] = useState(null);\n  const [authorized, setAuthorized] = useState(false);\n  const [error, setError] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [stepHistory, setStepHistory] = useState([]);\n\n  // 请求配置：用户上下文与流程起始步骤\n  const START_STEP_OPTIONS = Array.from({\n    length: 8\n  }, (_, i) => i + 1);\n  const REPAYMENT_STATUS_OPTIONS = ['正常', '逾期', '已结清'];\n  const AUTH_STATUS_OPTIONS = ['未授信', '已授信'];\n  const defaultConfig = {\n    startStep: 1,\n    userName: 'John Doe',\n    availableCredit: '5000',\n    currentLoanPlan: '无',\n    recentRepaymentStatus: '正常',\n    maxLoanAmount: '20000',\n    authorizationStatus: '未授信'\n  };\n  const [config, setConfig] = useState(defaultConfig);\n  // 卡片键、名称与提示\n  const getCardKey = card => (card === null || card === void 0 ? void 0 : card.cardId) || (card === null || card === void 0 ? void 0 : card.id);\n  const cardNameMap = {\n    live_detect: '活体检测',\n    id_upload: '上传身份证',\n    set_password: '设置密码',\n    sign_agreement: '签署协议',\n    bank_bind: '绑定银行卡',\n    occupation: '职业信息',\n    contact: '联系人',\n    assess_wait: '系统评估',\n    consumer_loan_offers: '授信完成'\n  };\n  const getCardName = key => cardNameMap[key] || '未知步骤';\n  const cardTipMap = {\n    live_detect: '请确保光线充足、正对摄像头，保持静止并根据提示完成动作。',\n    id_upload: '请上传清晰的身份证正反面照片，确保边角完整、文字清晰。',\n    set_password: '设置6位数字交易密码，妥善保管，不要与他人共享。',\n    sign_agreement: '请认真阅读协议内容，勾选同意后继续流程。',\n    bank_bind: '请准备本人银行卡信息，确保预留手机号可接收短信。',\n    occupation: '填写真实有效的职业与收入信息，有助于评估授信额度。',\n    contact: '请填写两位可联系到的紧急联系人，留存准确的手机号。',\n    assess_wait: '系统正在评估，请耐心等待，通常不超过30秒。',\n    consumer_loan_offers: '评估已完成，请选择适合您的借款方案。'\n  };\n  const getCardTip = key => cardTipMap[key] || '';\n\n  // 生成唯一会话ID并发送欢迎消息（不自动进入授信流程）\n  useEffect(() => {\n    const generateChatId = () => {\n      const timestamp = Date.now();\n      const random = Math.random().toString(36).substr(2, 9);\n      return `user_${timestamp}_${random}`;\n    };\n    const id = generateChatId();\n    setChatId(id);\n    // 初始不注入助手消息，保持纯净对话窗口\n    setMessages([]);\n  }, []);\n  const addAssistantMessage = content => {\n    setMessages(prev => [...prev, {\n      role: 'assistant',\n      content\n    }]);\n  };\n  const addUserMessage = content => {\n    setMessages(prev => [...prev, {\n      role: 'user',\n      content\n    }]);\n  };\n  const initializeCreditProcess = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const startStep = Number(config.startStep) || 1;\n      const response = await consumerCreditAPI.startCreditProcess(chatId, startStep);\n      if (response.data && response.data.card) {\n        const card = response.data.card;\n        setStepData(card);\n        setCurrentStep(0);\n        setAuthorized(false);\n        setStepHistory([card]);\n        const key = getCardKey(card);\n        addAssistantMessage(`${getCardName(key)}开始。${getCardTip(key)}`);\n      } else {\n        throw new Error('响应格式错误：缺少card字段');\n      }\n    } catch (error) {\n      setError('初始化授信流程失败');\n      message.error('初始化授信流程失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleStepComplete = async formData => {\n    try {\n      setLoading(true);\n      const currKey = getCardKey(stepData);\n      // 若为借款方案卡片，执行确认借款逻辑而不是调用授信步骤接口\n      if (currKey === 'consumer_loan_offers') {\n        // 获取用户在卡片中选择的下拉值，用于提交后端或记录\n        const term = formData === null || formData === void 0 ? void 0 : formData.termMonths;\n        const account = formData === null || formData === void 0 ? void 0 : formData.account;\n        const purpose = formData === null || formData === void 0 ? void 0 : formData.purpose;\n        const summary = [term ? `${term}个月` : null, account || null, purpose || null].filter(Boolean).join(' · ');\n        addAssistantMessage(`好的，已确认借款请求${summary ? `（${summary}）` : ''}，我们会尽快为您办理。`);\n        message.success('已提交借款申请');\n        return;\n      }\n      // 调用后端完成当前步骤\n      const response = await consumerCreditAPI.completeStep(chatId, currentStep);\n      if (response.data && response.data.card) {\n        const nextCard = response.data.card;\n        const nextKey = getCardKey(nextCard);\n        // 记录步骤完成状态\n        addAssistantMessage(`已完成【${getCardName(currKey)}】。即将进入【${getCardName(nextKey)}】。${getCardTip(nextKey)}`);\n        // 检查是否完成\n        if (nextCard.state === 'COMPLETED' || nextCard.state === 'CREDIT_DONE' || nextKey === 'consumer_loan_offers') {\n          setAuthorized(true);\n          // 已移除弹窗：message.success('授信申请已通过！');\n        } else {\n          // 进入下一步\n          setStepData(nextCard);\n          setCurrentStep(s => s + 1);\n          setStepHistory(h => [...h, nextCard]);\n          message.success('步骤完成，进入下一步');\n        }\n      } else {\n        console.error('响应格式错误:', response.data);\n        throw new Error('响应格式错误：缺少card字段');\n      }\n    } catch (error) {\n      console.error('步骤完成失败:', error);\n      message.error('步骤完成失败，请重试');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSelectOffer = offer => {\n    message.success(`已选择借款方案：${(offer.amount / 10000).toFixed(1)}万元`);\n  };\n  const handleRefresh = () => {\n    window.location.reload();\n  };\n  const handleResetConfig = () => {\n    setConfig({\n      ...defaultConfig\n    });\n  };\n  const generateRandomName = () => {\n    const surnames = ['张', '李', '王', '刘', '陈', '杨', '黄', '赵', '周', '吴', '徐', '孙', '马', '朱', '胡', '郭', '何', '高', '林', '罗'];\n    const givenChars = ['伟', '芳', '娜', '敏', '静', '丽', '强', '磊', '军', '洋', '勇', '艳', '杰', '涛', '明', '超', '秀英', '霞', '平', '红', '丹', '玲', '成', '刚', '佳', '妍', '涵', '媛', '博', '晨', '宇', '轩', '然', '雅', '宁'];\n    const surname = surnames[Math.floor(Math.random() * surnames.length)];\n    const len = Math.random() < 0.5 ? 1 : 2;\n    let given = '';\n    for (let i = 0; i < len; i++) {\n      given += givenChars[Math.floor(Math.random() * givenChars.length)];\n    }\n    return surname + given;\n  };\n  const getStepTitle = step => {\n    const titles = ['活体检测', '上传身份证', '设置密码', '签署协议', '绑定银行卡', '职业信息', '联系人', '系统评估', '授信完成'];\n    return titles[step] || `步骤${step + 1}`;\n  };\n  const handleChatSend = async text => {\n    addUserMessage(text);\n    // 删除前端意图识别，统一由后端进行意图判断与流程路由\n    try {\n      setLoading(true);\n      const reply = await assistantAPI.chat(chatId, text, {\n        userName: config.userName || undefined,\n        availableCredit: config.availableCredit !== '' ? Number(config.availableCredit) : undefined,\n        currentLoanPlan: config.currentLoanPlan || undefined,\n        recentRepaymentStatus: config.recentRepaymentStatus || undefined,\n        maxLoanAmount: config.maxLoanAmount !== '' ? Number(config.maxLoanAmount) : undefined,\n        authorized: config.authorizationStatus === '已授信'\n      });\n      // 适配结构化返回：优先渲染文本，其次根据card决定是否渲染步骤卡片或切换到授信完成页\n      if (reply && typeof reply === 'object') {\n        const {\n          text: botText,\n          card\n        } = reply;\n        if (botText) {\n          addAssistantMessage(botText);\n        }\n        if (card) {\n          const key = getCardKey(card);\n          // 忽略纯文本/错误卡片\n          if (key && key !== 'text_response' && key !== 'error') {\n            // 授信已完成：在聊天窗口渲染借款方案卡片\n            if (key === 'consumer_loan_offers' || card.state === 'CREDIT_DONE' || card.state === 'COMPLETED') {\n              setAuthorized(true);\n              setStepData(card);\n              setCurrentStep(0);\n              setStepHistory([card]);\n              // 优化：仅在无文本回复时补充一条提示，避免重复机器人文案\n              if (!botText) {\n                addAssistantMessage('授信已完成，以下为为您推荐的借款方案');\n              }\n              // 已移除弹窗：message.success('授信申请已通过！');\n            } else {\n              // 渲染流程步骤卡片到聊天窗口\n              setStepData(card);\n              setCurrentStep(0);\n              setStepHistory([card]);\n              addAssistantMessage(`${getCardName(key)}开始。${getCardTip(key)}`);\n            }\n          }\n        }\n      } else {\n        // 兼容后端返回纯字符串的情况\n        addAssistantMessage(reply || '助手暂时无法回答，请稍后再试。');\n      }\n    } catch (e) {\n      addAssistantMessage('抱歉，当前服务繁忙或工具调用出现问题，请稍后重试。');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRestart = async () => {\n    if (loading) return;\n    setMessages(prev => [...prev, {\n      role: 'assistant',\n      content: '已重置当前会话。若需要办理授信，请点击开始或告诉我。'\n    }]);\n    setStepHistory([]);\n    setAuthorized(false);\n    setCurrentStep(0);\n    setStepData(null);\n  };\n  const handleRollback = () => {\n    if (loading || authorized) return;\n    if (stepHistory.length <= 1) return;\n    const newHistory = [...stepHistory];\n    newHistory.pop();\n    const prevCard = newHistory[newHistory.length - 1];\n    setStepHistory(newHistory);\n    setStepData(prevCard);\n    setCurrentStep(s => s > 0 ? s - 1 : 0);\n    const prevKey = getCardKey(prevCard);\n    addAssistantMessage(`已返回到【${getCardName(prevKey)}】。${getCardTip(prevKey)}`);\n  };\n  const canRollback = stepHistory.length > 1 && !loading && !authorized;\n  const handleStartCredit = async () => {\n    if (loading || authorized) return;\n    if (!stepData) {\n      addAssistantMessage('好的，正在为您开启授信流程。');\n      await initializeCreditProcess();\n    }\n  };\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-container\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '48px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 64,\n              marginBottom: 24\n            },\n            children: \"\\u274C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u51FA\\u9519\\u4E86\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#666',\n              marginBottom: 24\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            icon: /*#__PURE__*/_jsxDEV(ReloadOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 21\n            }, this),\n            onClick: handleRefresh,\n            children: \"\\u5237\\u65B0\\u9875\\u9762\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this);\n  }\n\n  // 纯聊天模式：不使用全屏加载动画，交给 ChatWindow 内的内联加载提示处理\n  if (false && loading && !stepData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: /*#__PURE__*/_jsxDEV(Spin, {\n        size: \"large\",\n        spinning: true,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            height: 200\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this);\n  }\n  if (authorized && (!stepData || getCardKey(stepData) !== 'consumer_loan_offers')) {\n    return /*#__PURE__*/_jsxDEV(SuccessPage, {\n      onSelectOffer: handleSelectOffer,\n      chatId: chatId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container layout\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sidebar\",\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          style: {\n            height: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"config-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"config-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"config-label\",\n                children: [\"Start Step\", /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"\\u9009\\u62E9\\u6388\\u4FE1\\u6D41\\u7A0B\\u7684\\u8D77\\u59CB\\u6B65\\u9AA4\\uFF0C\\u7528\\u4E8E\\u6A21\\u62DF\\u4ECE\\u4E0D\\u540C\\u9636\\u6BB5\\u8FDB\\u5165\\u6D41\\u7A0B\",\n                  children: /*#__PURE__*/_jsxDEV(InfoCircleOutlined, {\n                    className: \"label-info\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: config.startStep,\n                onChange: e => setConfig({\n                  ...config,\n                  startStep: e.target.value\n                }),\n                className: \"config-input\",\n                children: START_STEP_OPTIONS.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: opt,\n                  children: opt\n                }, opt, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"config-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"config-label\",\n                children: [\"User Name\", /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"\\u7528\\u6237\\u59D3\\u540D\\uFF0C\\u4EC5\\u7528\\u4E8E\\u4E2A\\u6027\\u5316\\u79F0\\u547C\\uFF0C\\u4E0D\\u5F71\\u54CD\\u6388\\u4FE1\\u903B\\u8F91\",\n                  children: /*#__PURE__*/_jsxDEV(InfoCircleOutlined, {\n                    className: \"label-info\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"config-input-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: config.userName,\n                  onChange: e => setConfig({\n                    ...config,\n                    userName: e.target.value\n                  }),\n                  className: \"config-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"text\",\n                  size: \"small\",\n                  icon: /*#__PURE__*/_jsxDEV(ReloadOutlined, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 27\n                  }, this),\n                  className: \"input-action-button\",\n                  onClick: () => setConfig({\n                    ...config,\n                    userName: generateRandomName()\n                  }),\n                  title: \"\\u968F\\u673A\\u751F\\u6210\\u59D3\\u540D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"config-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"config-label\",\n                children: [\"Available Credit\", /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"\\u5F53\\u524D\\u53EF\\u7528\\u4FE1\\u7528\\u989D\\u5EA6\\uFF08\\u5355\\u4F4D\\uFF1A\\u5143\\uFF09\\uFF0C\\u7528\\u4E8E\\u751F\\u6210\\u63A8\\u8350\\u65B9\\u6848\",\n                  children: /*#__PURE__*/_jsxDEV(InfoCircleOutlined, {\n                    className: \"label-info\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 369,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: 0,\n                step: 1,\n                value: config.availableCredit,\n                onChange: e => setConfig({\n                  ...config,\n                  availableCredit: e.target.value\n                }),\n                className: \"config-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"config-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"config-label\",\n                children: [\"Current Loan Plan\", /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"\\u5F53\\u524D\\u5DF2\\u9009\\u8D37\\u6B3E\\u65B9\\u6848\\uFF08\\u53EF\\u4E3A\\u7A7A\\uFF09\\uFF0C\\u4EC5\\u7528\\u4E8E\\u4E0A\\u4E0B\\u6587\\u5C55\\u793A\",\n                  children: /*#__PURE__*/_jsxDEV(InfoCircleOutlined, {\n                    className: \"label-info\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: config.currentLoanPlan,\n                onChange: e => setConfig({\n                  ...config,\n                  currentLoanPlan: e.target.value\n                }),\n                className: \"config-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"config-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"config-label\",\n                children: [\"Recent Repayment Status\", /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"\\u6700\\u8FD1\\u4E00\\u671F\\u8FD8\\u6B3E\\u72B6\\u6001\\uFF0C\\u7528\\u4E8E\\u751F\\u6210\\u667A\\u80FD\\u56DE\\u590D\",\n                  children: /*#__PURE__*/_jsxDEV(InfoCircleOutlined, {\n                    className: \"label-info\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: config.recentRepaymentStatus,\n                onChange: e => setConfig({\n                  ...config,\n                  recentRepaymentStatus: e.target.value\n                }),\n                className: \"config-input\",\n                children: REPAYMENT_STATUS_OPTIONS.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: opt,\n                  children: opt\n                }, opt, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 400,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"config-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"config-label\",\n                children: [\"Max Loan Amount\", /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"\\u7CFB\\u7EDF\\u5141\\u8BB8\\u7684\\u6700\\u9AD8\\u53EF\\u8D37\\u989D\\u5EA6\\uFF08\\u5355\\u4F4D\\uFF1A\\u5143\\uFF09\\uFF0C\\u7528\\u4E8E\\u63A8\\u8350\\u65B9\\u6848\\u4E0A\\u9650\",\n                  children: /*#__PURE__*/_jsxDEV(InfoCircleOutlined, {\n                    className: \"label-info\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 408,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: 0,\n                step: 1,\n                value: config.maxLoanAmount,\n                onChange: e => setConfig({\n                  ...config,\n                  maxLoanAmount: e.target.value\n                }),\n                className: \"config-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"config-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"config-label\",\n                children: [\"\\u6388\\u4FE1\\u72B6\\u6001\", /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"\\u5F53\\u524D\\u662F\\u5426\\u5DF2\\u5B8C\\u6210\\u6388\\u4FE1\\uFF1A\\u5DF2\\u6388\\u4FE1\\u5C06\\u76F4\\u63A5\\u5C55\\u793A\\u501F\\u6B3E\\u65B9\\u6848\\uFF0C\\u672A\\u6388\\u4FE1\\u8FDB\\u5165\\u6388\\u4FE1\\u6D41\\u7A0B\",\n                  children: /*#__PURE__*/_jsxDEV(InfoCircleOutlined, {\n                    className: \"label-info\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 419,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                value: config.authorizationStatus,\n                onChange: e => {\n                  const val = e.target.value;\n                  setConfig({\n                    ...config,\n                    authorizationStatus: val\n                  });\n                  // 不再调用后端授权更新接口；该状态仅作为聊天上下文参数传递给后端\n                  message.info('已更新授信状态：该设置会在聊天请求中传递给后端');\n                },\n                className: \"config-input\",\n                children: AUTH_STATUS_OPTIONS.map(opt => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: opt,\n                  children: opt\n                }, opt, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"config-actions\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleResetConfig,\n              children: \"Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: [/*#__PURE__*/_jsxDEV(ChatWindow, {\n          messages: messages,\n          onSend: handleChatSend,\n          stepData: stepData,\n          onComplete: handleStepComplete,\n          loading: loading,\n          onRollback: handleRollback,\n          onRestart: handleRestart,\n          canRollback: canRollback,\n          onStartCredit: handleStartCredit,\n          onAssistantReply: null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 11\n        }, this), false && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-container\",\n          children: /*#__PURE__*/_jsxDEV(Steps, {\n            current: currentStep,\n            size: \"small\",\n            children: Array.from({\n              length: 8\n            }, (_, i) => /*#__PURE__*/_jsxDEV(Step, {\n              title: getStepTitle(i)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 320,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"xQp8aq96xX6KwEFJruwUvJMjQ8A=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Steps","message","Spin","Button","Card","Tooltip","ReloadOutlined","InfoCircleOutlined","SuccessPage","consumerCreditAPI","ChatWindow","assistantAPI","jsxDEV","_jsxDEV","Step","App","_s","currentStep","setCurrentStep","chatId","setChatId","loading","setLoading","stepData","setStepData","authorized","setAuthorized","error","setError","messages","setMessages","stepHistory","setStepHistory","START_STEP_OPTIONS","Array","from","length","_","i","REPAYMENT_STATUS_OPTIONS","AUTH_STATUS_OPTIONS","defaultConfig","startStep","userName","availableCredit","currentLoanPlan","recentRepaymentStatus","maxLoanAmount","authorizationStatus","config","setConfig","getCardKey","card","cardId","id","cardNameMap","live_detect","id_upload","set_password","sign_agreement","bank_bind","occupation","contact","assess_wait","consumer_loan_offers","getCardName","key","cardTipMap","getCardTip","generateChatId","timestamp","Date","now","random","Math","toString","substr","addAssistantMessage","content","prev","role","addUserMessage","initializeCreditProcess","Number","response","startCreditProcess","data","Error","handleStepComplete","formData","currKey","term","termMonths","account","purpose","summary","filter","Boolean","join","success","completeStep","nextCard","nextKey","state","s","h","console","handleSelectOffer","offer","amount","toFixed","handleRefresh","window","location","reload","handleResetConfig","generateRandomName","surnames","givenChars","surname","floor","len","given","getStepTitle","step","titles","handleChatSend","text","reply","chat","undefined","botText","e","handleRestart","handleRollback","newHistory","pop","prevCard","prevKey","canRollback","handleStartCredit","className","children","style","textAlign","padding","fontSize","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","color","type","icon","onClick","size","spinning","height","onSelectOffer","title","value","onChange","target","map","opt","min","val","info","onSend","onComplete","onRollback","onRestart","onStartCredit","onAssistantReply","current","_c","$RefreshReg$"],"sources":["D:/workspace/rag-elasticsearch/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Steps, message, Spin, Button, Card, Tooltip } from 'antd';\r\nimport { ReloadOutlined, InfoCircleOutlined } from '@ant-design/icons';\r\nimport SuccessPage from './components/SuccessPage';\r\nimport { consumerCreditAPI } from './services/api';\r\nimport './App.css';\r\nimport ChatWindow from './components/ChatWindow';\r\nimport { assistantAPI } from './services/api';\r\n\r\nconst { Step } = Steps;\r\n\r\nfunction App() {\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const [chatId, setChatId] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [stepData, setStepData] = useState(null);\r\n  const [authorized, setAuthorized] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [stepHistory, setStepHistory] = useState([]);\r\n\r\n  // 请求配置：用户上下文与流程起始步骤\r\n  const START_STEP_OPTIONS = Array.from({ length: 8 }, (_, i) => i + 1);\r\n  const REPAYMENT_STATUS_OPTIONS = ['正常', '逾期', '已结清'];\r\n  const AUTH_STATUS_OPTIONS = ['未授信', '已授信'];\r\n  const defaultConfig = {\r\n    startStep: 1,\r\n    userName: 'John Doe',\r\n    availableCredit: '5000',\r\n    currentLoanPlan: '无',\r\n    recentRepaymentStatus: '正常',\r\n    maxLoanAmount: '20000',\r\n    authorizationStatus: '未授信'\r\n  };\r\n  const [config, setConfig] = useState(defaultConfig);\r\n  // 卡片键、名称与提示\r\n  const getCardKey = (card) => card?.cardId || card?.id;\r\n  const cardNameMap = {\r\n    live_detect: '活体检测',\r\n    id_upload: '上传身份证',\r\n    set_password: '设置密码',\r\n    sign_agreement: '签署协议',\r\n    bank_bind: '绑定银行卡',\r\n    occupation: '职业信息',\r\n    contact: '联系人',\r\n    assess_wait: '系统评估',\r\n    consumer_loan_offers: '授信完成'\r\n  };\r\n  const getCardName = (key) => cardNameMap[key] || '未知步骤';\r\n  const cardTipMap = {\r\n    live_detect: '请确保光线充足、正对摄像头，保持静止并根据提示完成动作。',\r\n    id_upload: '请上传清晰的身份证正反面照片，确保边角完整、文字清晰。',\r\n    set_password: '设置6位数字交易密码，妥善保管，不要与他人共享。',\r\n    sign_agreement: '请认真阅读协议内容，勾选同意后继续流程。',\r\n    bank_bind: '请准备本人银行卡信息，确保预留手机号可接收短信。',\r\n    occupation: '填写真实有效的职业与收入信息，有助于评估授信额度。',\r\n    contact: '请填写两位可联系到的紧急联系人，留存准确的手机号。',\r\n    assess_wait: '系统正在评估，请耐心等待，通常不超过30秒。',\r\n    consumer_loan_offers: '评估已完成，请选择适合您的借款方案。'\r\n  };\r\n  const getCardTip = (key) => cardTipMap[key] || '';\r\n\r\n  // 生成唯一会话ID并发送欢迎消息（不自动进入授信流程）\r\n  useEffect(() => {\r\n    const generateChatId = () => {\r\n      const timestamp = Date.now();\r\n      const random = Math.random().toString(36).substr(2, 9);\r\n      return `user_${timestamp}_${random}`;\r\n    };\r\n    const id = generateChatId();\r\n    setChatId(id);\r\n    // 初始不注入助手消息，保持纯净对话窗口\r\n    setMessages([]);\r\n  }, []);\r\n\r\n  const addAssistantMessage = (content) => {\r\n    setMessages((prev) => [...prev, { role: 'assistant', content }]);\r\n  };\r\n  const addUserMessage = (content) => {\r\n    setMessages((prev) => [...prev, { role: 'user', content }]);\r\n  };\r\n\r\n\r\n  const initializeCreditProcess = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const startStep = Number(config.startStep) || 1;\r\n      const response = await consumerCreditAPI.startCreditProcess(chatId, startStep);\r\n      if (response.data && response.data.card) {\r\n        const card = response.data.card;\r\n        setStepData(card);\r\n        setCurrentStep(0);\r\n        setAuthorized(false);\r\n        setStepHistory([card]);\r\n        const key = getCardKey(card);\r\n        addAssistantMessage(`${getCardName(key)}开始。${getCardTip(key)}`);\r\n      } else {\r\n        throw new Error('响应格式错误：缺少card字段');\r\n      }\r\n    } catch (error) {\r\n      setError('初始化授信流程失败');\r\n      message.error('初始化授信流程失败');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleStepComplete = async (formData) => {\r\n    try {\r\n      setLoading(true);\r\n      const currKey = getCardKey(stepData);\r\n      // 若为借款方案卡片，执行确认借款逻辑而不是调用授信步骤接口\r\n      if (currKey === 'consumer_loan_offers') {\r\n        // 获取用户在卡片中选择的下拉值，用于提交后端或记录\r\n        const term = formData?.termMonths;\r\n        const account = formData?.account;\r\n        const purpose = formData?.purpose;\r\n        const summary = [\r\n          term ? `${term}个月` : null,\r\n          account || null,\r\n          purpose || null\r\n        ].filter(Boolean).join(' · ');\r\n        addAssistantMessage(`好的，已确认借款请求${summary ? `（${summary}）` : ''}，我们会尽快为您办理。`);\r\n        message.success('已提交借款申请');\r\n        return;\r\n      }\r\n      // 调用后端完成当前步骤\r\n      const response = await consumerCreditAPI.completeStep(chatId, currentStep);\r\n      if (response.data && response.data.card) {\r\n        const nextCard = response.data.card;\r\n        const nextKey = getCardKey(nextCard);\r\n        // 记录步骤完成状态\r\n        addAssistantMessage(`已完成【${getCardName(currKey)}】。即将进入【${getCardName(nextKey)}】。${getCardTip(nextKey)}`);\r\n        // 检查是否完成\r\n        if (nextCard.state === 'COMPLETED' || nextCard.state === 'CREDIT_DONE' || nextKey === 'consumer_loan_offers') {\r\n          setAuthorized(true);\r\n          // 已移除弹窗：message.success('授信申请已通过！');\r\n        } else {\r\n          // 进入下一步\r\n          setStepData(nextCard);\r\n          setCurrentStep((s) => s + 1);\r\n          setStepHistory((h) => [...h, nextCard]);\r\n          message.success('步骤完成，进入下一步');\r\n        }\r\n      } else {\r\n        console.error('响应格式错误:', response.data);\r\n        throw new Error('响应格式错误：缺少card字段');\r\n      }\r\n    } catch (error) {\r\n      console.error('步骤完成失败:', error);\r\n      message.error('步骤完成失败，请重试');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSelectOffer = (offer) => {\r\n    message.success(`已选择借款方案：${(offer.amount / 10000).toFixed(1)}万元`);\r\n  };\r\n\r\n  const handleRefresh = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleResetConfig = () => {\r\n    setConfig({ ...defaultConfig });\r\n  };\r\n\r\n  const generateRandomName = () => {\r\n    const surnames = ['张','李','王','刘','陈','杨','黄','赵','周','吴','徐','孙','马','朱','胡','郭','何','高','林','罗'];\r\n    const givenChars = ['伟','芳','娜','敏','静','丽','强','磊','军','洋','勇','艳','杰','涛','明','超','秀英','霞','平','红','丹','玲','成','刚','佳','妍','涵','媛','博','晨','宇','轩','然','雅','宁'];\r\n    const surname = surnames[Math.floor(Math.random() * surnames.length)];\r\n    const len = Math.random() < 0.5 ? 1 : 2;\r\n    let given = '';\r\n    for (let i = 0; i < len; i++) {\r\n      given += givenChars[Math.floor(Math.random() * givenChars.length)];\r\n    }\r\n    return surname + given;\r\n  };\r\n\r\n  const getStepTitle = (step) => {\r\n    const titles = [\r\n      '活体检测',\r\n      '上传身份证',\r\n      '设置密码',\r\n      '签署协议',\r\n      '绑定银行卡',\r\n      '职业信息',\r\n      '联系人',\r\n      '系统评估',\r\n      '授信完成'\r\n    ];\r\n    return titles[step] || `步骤${step + 1}`;\r\n  };\r\n\r\n  const handleChatSend = async (text) => {\r\n    addUserMessage(text);\r\n    // 删除前端意图识别，统一由后端进行意图判断与流程路由\r\n    try {\r\n      setLoading(true);\r\n      const reply = await assistantAPI.chat(chatId, text, {\r\n        userName: config.userName || undefined,\r\n        availableCredit: config.availableCredit !== '' ? Number(config.availableCredit) : undefined,\r\n        currentLoanPlan: config.currentLoanPlan || undefined,\r\n        recentRepaymentStatus: config.recentRepaymentStatus || undefined,\r\n        maxLoanAmount: config.maxLoanAmount !== '' ? Number(config.maxLoanAmount) : undefined,\r\n        authorized: config.authorizationStatus === '已授信'\r\n      });\r\n      // 适配结构化返回：优先渲染文本，其次根据card决定是否渲染步骤卡片或切换到授信完成页\r\n      if (reply && typeof reply === 'object') {\r\n        const { text: botText, card } = reply;\r\n        if (botText) {\r\n          addAssistantMessage(botText);\r\n        }\r\n        if (card) {\r\n          const key = getCardKey(card);\r\n          // 忽略纯文本/错误卡片\r\n          if (key && key !== 'text_response' && key !== 'error') {\r\n            // 授信已完成：在聊天窗口渲染借款方案卡片\r\n            if (key === 'consumer_loan_offers' || card.state === 'CREDIT_DONE' || card.state === 'COMPLETED') {\r\n              setAuthorized(true);\r\n              setStepData(card);\r\n              setCurrentStep(0);\r\n              setStepHistory([card]);\r\n              // 优化：仅在无文本回复时补充一条提示，避免重复机器人文案\r\n              if (!botText) {\r\n                addAssistantMessage('授信已完成，以下为为您推荐的借款方案');\r\n              }\r\n              // 已移除弹窗：message.success('授信申请已通过！');\r\n            } else {\r\n              // 渲染流程步骤卡片到聊天窗口\r\n              setStepData(card);\r\n              setCurrentStep(0);\r\n              setStepHistory([card]);\r\n              addAssistantMessage(`${getCardName(key)}开始。${getCardTip(key)}`);\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        // 兼容后端返回纯字符串的情况\r\n        addAssistantMessage(reply || '助手暂时无法回答，请稍后再试。');\r\n      }\r\n    } catch (e) {\r\n      addAssistantMessage('抱歉，当前服务繁忙或工具调用出现问题，请稍后重试。');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRestart = async () => {\r\n    if (loading) return;\r\n    setMessages((prev) => [...prev, { role: 'assistant', content: '已重置当前会话。若需要办理授信，请点击开始或告诉我。' }]);\r\n    setStepHistory([]);\r\n    setAuthorized(false);\r\n    setCurrentStep(0);\r\n    setStepData(null);\r\n  };\r\n\r\n  const handleRollback = () => {\r\n    if (loading || authorized) return;\r\n    if (stepHistory.length <= 1) return;\r\n    const newHistory = [...stepHistory];\r\n    newHistory.pop();\r\n    const prevCard = newHistory[newHistory.length - 1];\r\n    setStepHistory(newHistory);\r\n    setStepData(prevCard);\r\n    setCurrentStep((s) => (s > 0 ? s - 1 : 0));\r\n    const prevKey = getCardKey(prevCard);\r\n    addAssistantMessage(`已返回到【${getCardName(prevKey)}】。${getCardTip(prevKey)}`);\r\n  };\r\n\r\n  const canRollback = stepHistory.length > 1 && !loading && !authorized;\r\n\r\n  const handleStartCredit = async () => {\r\n    if (loading || authorized) return;\r\n    if (!stepData) {\r\n      addAssistantMessage('好的，正在为您开启授信流程。');\r\n      await initializeCreditProcess();\r\n    }\r\n  };\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"error-container\">\r\n        <Card>\r\n          <div style={{ textAlign: 'center', padding: '48px' }}>\r\n            <div style={{ fontSize: 64, marginBottom: 24 }}>❌</div>\r\n            <h3>出错了</h3>\r\n            <p style={{ color: '#666', marginBottom: 24 }}>{error}</p>\r\n            <Button \r\n              type=\"primary\" \r\n              icon={<ReloadOutlined />}\r\n              onClick={handleRefresh}\r\n            >\r\n              刷新页面\r\n            </Button>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // 纯聊天模式：不使用全屏加载动画，交给 ChatWindow 内的内联加载提示处理\r\n  if (false && loading && !stepData) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <Spin size=\"large\" spinning={true}>\r\n          <div style={{ height: 200 }} />\r\n        </Spin>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (authorized && (!stepData || getCardKey(stepData) !== 'consumer_loan_offers')) {\r\n    return <SuccessPage onSelectOffer={handleSelectOffer} chatId={chatId} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"container layout\">\r\n        {/* 左侧配置栏（侧边栏） */}\r\n        <div className=\"sidebar\">\r\n          <Card style={{ height: '100%' }}>\r\n            {/* 移除卡片右上角的全局信息标识 */}\r\n            <div className=\"config-form\">\r\n              <div className=\"config-row\">\r\n                <span className=\"config-label\">\r\n                  Start Step\r\n                  <Tooltip title=\"选择授信流程的起始步骤，用于模拟从不同阶段进入流程\">\r\n                    <InfoCircleOutlined className=\"label-info\" />\r\n                  </Tooltip>\r\n                </span>\r\n                <select\r\n                  value={config.startStep}\r\n                  onChange={(e) => setConfig({ ...config, startStep: e.target.value })}\r\n                  className=\"config-input\"\r\n                >\r\n                  {START_STEP_OPTIONS.map((opt) => (\r\n                    <option key={opt} value={opt}>{opt}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"config-row\">\r\n                <span className=\"config-label\">\r\n                  User Name\r\n                  <Tooltip title=\"用户姓名，仅用于个性化称呼，不影响授信逻辑\">\r\n                    <InfoCircleOutlined className=\"label-info\" />\r\n                  </Tooltip>\r\n                </span>\r\n                <div className=\"config-input-wrapper\">\r\n                  <input type=\"text\" value={config.userName}\r\n                    onChange={(e) => setConfig({ ...config, userName: e.target.value })}\r\n                    className=\"config-input\" />\r\n                  <Button\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    icon={<ReloadOutlined />}\r\n                    className=\"input-action-button\"\r\n                    onClick={() => setConfig({ ...config, userName: generateRandomName() })}\r\n                    title=\"随机生成姓名\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"config-row\">\r\n                <span className=\"config-label\">\r\n                  Available Credit\r\n                  <Tooltip title=\"当前可用信用额度（单位：元），用于生成推荐方案\">\r\n                    <InfoCircleOutlined className=\"label-info\" />\r\n                  </Tooltip>\r\n                </span>\r\n                <input type=\"number\" min={0} step={1} value={config.availableCredit}\r\n                  onChange={(e) => setConfig({ ...config, availableCredit: e.target.value })}\r\n                  className=\"config-input\" />\r\n              </div>\r\n              <div className=\"config-row\">\r\n                <span className=\"config-label\">\r\n                  Current Loan Plan\r\n                  <Tooltip title=\"当前已选贷款方案（可为空），仅用于上下文展示\">\r\n                    <InfoCircleOutlined className=\"label-info\" />\r\n                  </Tooltip>\r\n                </span>\r\n                <input type=\"text\" value={config.currentLoanPlan}\r\n                  onChange={(e) => setConfig({ ...config, currentLoanPlan: e.target.value })}\r\n                  className=\"config-input\" />\r\n              </div>\r\n              <div className=\"config-row\">\r\n                <span className=\"config-label\">\r\n                  Recent Repayment Status\r\n                  <Tooltip title=\"最近一期还款状态，用于生成智能回复\">\r\n                    <InfoCircleOutlined className=\"label-info\" />\r\n                  </Tooltip>\r\n                </span>\r\n                <select\r\n                  value={config.recentRepaymentStatus}\r\n                  onChange={(e) => setConfig({ ...config, recentRepaymentStatus: e.target.value })}\r\n                  className=\"config-input\"\r\n                >\r\n                  {REPAYMENT_STATUS_OPTIONS.map((opt) => (\r\n                    <option key={opt} value={opt}>{opt}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"config-row\">\r\n                <span className=\"config-label\">\r\n                  Max Loan Amount\r\n                  <Tooltip title=\"系统允许的最高可贷额度（单位：元），用于推荐方案上限\">\r\n                    <InfoCircleOutlined className=\"label-info\" />\r\n                  </Tooltip>\r\n                </span>\r\n                <input type=\"number\" min={0} step={1} value={config.maxLoanAmount}\r\n                  onChange={(e) => setConfig({ ...config, maxLoanAmount: e.target.value })}\r\n                  className=\"config-input\" />\r\n              </div>\r\n              <div className=\"config-row\">\r\n                <span className=\"config-label\">\r\n                  授信状态\r\n                  <Tooltip title=\"当前是否已完成授信：已授信将直接展示借款方案，未授信进入授信流程\">\r\n                    <InfoCircleOutlined className=\"label-info\" />\r\n                  </Tooltip>\r\n                </span>\r\n                <select\r\n                  value={config.authorizationStatus}\r\n                  onChange={(e) => {\r\n                    const val = e.target.value;\r\n                    setConfig({ ...config, authorizationStatus: val });\r\n                    // 不再调用后端授权更新接口；该状态仅作为聊天上下文参数传递给后端\r\n                    message.info('已更新授信状态：该设置会在聊天请求中传递给后端');\r\n                  }}\r\n                  className=\"config-input\"\r\n                >\r\n                  {AUTH_STATUS_OPTIONS.map((opt) => (\r\n                    <option key={opt} value={opt}>{opt}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"config-actions\">\r\n              <Button onClick={handleResetConfig}>Reset</Button>\r\n            </div>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* 右侧主区域：对话窗口 */}\r\n        <div className=\"main\">\r\n          <ChatWindow\r\n            messages={messages}\r\n            onSend={handleChatSend}\r\n            stepData={stepData}\r\n            onComplete={handleStepComplete}\r\n            loading={loading}\r\n            onRollback={handleRollback}\r\n            onRestart={handleRestart}\r\n            canRollback={canRollback}\r\n            onStartCredit={handleStartCredit}\r\n            onAssistantReply={null}\r\n          />\r\n          {/* 纯聊天窗口模式：隐藏进度条 */}\r\n          {false && (\r\n            <div className=\"progress-container\">\r\n              <Steps current={currentStep} size=\"small\">\r\n                {Array.from({ length: 8 }, (_, i) => (\r\n                  <Step key={i} title={getStepTitle(i)} />\r\n                ))}\r\n              </Steps>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}